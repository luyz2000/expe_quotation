.card
  .card-body
    = form_with(model: @material, local: true, class: "row g-3") do |form|
      - if @material.errors.any?
        .alert.alert-danger
          %h4= pluralize(@material.errors.count, "error")
          %ul
            - @material.errors.full_messages.each do |message|
              %li= message

      .col-md-6
        .mb-3
          = form.label :code, "Código", class: "form-label"
          = form.text_field :code, class: "form-control"
      .col-md-6
        .mb-3
          = form.label :title, "Título", class: "form-label"
          = form.text_field :title, class: "form-control"
      .col-12
        .mb-3
          = form.label :description, "Descripción", class: "form-label"
          = form.text_area :description, class: "form-control", rows: 3
      .col-md-6
        .mb-3
          = form.label :unit, "Unidad", class: "form-label"
          = form.select :unit, Material.units.keys.map {|k| [k.humanize, k]}, {prompt: "Seleccionar unidad"}, {class: "form-select"}
      .col-md-6
        .mb-3
          = form.label :category, "Categoría", class: "form-label"
          = form.select :category, Material.categories.keys.map {|k| [k.humanize, k]}, {prompt: "Seleccionar categoría"}, {class: "form-select"}
      .col-md-6
        .mb-3
          = form.label :cost_price, "Precio Costo", class: "form-label"
          = form.number_field :cost_price, step: 0.01, class: "form-control"
      .col-md-6
        .mb-3
          = form.label :public_price, "Precio Público", class: "form-label"
          = form.number_field :public_price, step: 0.01, class: "form-control"

      .col-12
        = form.submit "Guardar", class: "btn btn-primary"
        = link_to "Cancelar", materials_path, class: "btn btn-secondary"